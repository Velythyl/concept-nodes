# @package _global_
defaults:
  - base
  - /ft_extraction: CLIP
  - override /segmentation: YoloMobileSAM
  - _self_

final_min_segments: 5

name: cg-detector

perception:
  segment_scoring_method: area
  bg_sim_thresh: 0.615
  crop_bg_color: null # Keep bg
  bg_classes: null

mapping:
  similarity:
    _target_: concept_graphs.mapping.similarity.Similarity.CombinedSimilarity
    geometric_similarity:
      _target_: concept_graphs.mapping.similarity.geometric.PointCloudOverlapClosestK
      agg: max
      eps: 0.025
      k: 4
    semantic_similarity:
      _target_: concept_graphs.mapping.similarity.semantic.CosineSimilarity01
    geometric_sim_thresh: 0.0
    semantic_sim_thresh: 0.0
    sim_thresh: 0.55
  object_factory:
    _target_: concept_graphs.mapping.Object.RunningAverageObjectFactory
    semantic_mode: mean
    downsampling_callback:
      voxel_size: 0.025
  n_min_segments: 3
  grace_min_segments: 30
  filter_min_every: 10
  self_merge_every: 5
  downsample_every: 5
  denoise_every: -1
  device: cpu
